diff -burN openttd-0.6.0.orig/config.lib openttd-0.6.0/config.lib
--- openttd-0.6.0.orig/config.lib	2008-04-06 12:28:03.600539135 +0200
+++ openttd-0.6.0/config.lib	2008-04-06 12:31:30.843779880 +0200
@@ -50,6 +50,7 @@
 	with_application_bundle="1"
 	with_sdl="1"
 	with_cocoa="1"
+	with_home_etc="1"
 	with_zlib="1"
 	with_png="1"
 	with_makedepend="1"
@@ -107,6 +108,7 @@
 		with_application_bundle
 		with_sdl
 		with_cocoa
+		with_home_etc
 		with_zlib
 		with_png
 		with_makedepend
@@ -251,6 +253,9 @@
 			--without-cocoa)              with_cocoa="0";;
 			--with-cocoa=*)               with_cocoa="$optarg";;
 
+			--with-home-etc)              with_home_etc="1";;
+			--without-home-etc)           with_home_etc="0";;
+
 			--with-zlib)                  with_zlib="2";;
 			--without-zlib)               with_zlib="0";;
 			--with-zlib=*)                with_zlib="$optarg";;
@@ -1049,6 +1054,11 @@
 		fi
 	fi
 
+	if [ "$with_home_etc" != 0 ]; then
+		CFLAGS="$CFLAGS -DWITH_HOME_ETC"
+		LIBS="$LIBS -lhome_etc"
+	fi
+
 	if [ "$with_zlib" != "0" ]; then
 		if [ "$enable_static" != "0" ] && [ "$os" != "OSX" ]; then
 			LIBS="$LIBS $zlib"
--- openttd-1.2.0-beta1/src/fileio.cpp.orig	2011-12-24 10:13:06.000000000 +0100
+++ openttd-1.2.0-beta1/src/fileio.cpp	2011-12-29 14:58:18.100920008 +0100
@@ -28,6 +28,10 @@
 #include <sys/stat.h>
 #include <algorithm>
 
+#ifdef HOME_ETC
+#include <home_etc.h>
+#endif
+
 /** Size of the #Fio data buffer. */
 #define FIO_BUFFER_SIZE 512
 
@@ -1077,7 +1081,11 @@
 	find_directory(B_USER_SETTINGS_DIRECTORY, &path);
 	const char *homedir = path.Path();
 #else
+#ifdef HOME_ETC
+	const char *hometdir = _HEdir;
+#else
 	const char *homedir = getenv("HOME");
+#endif
 
 	if (homedir == NULL) {
 		const struct passwd *pw = getpwuid(getuid());
